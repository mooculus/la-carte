\documentclass{ximera}

\input{../../preamble.tex}
\newcommand{\rvx}[1]{\rule[0.5ex]{1em}{.05pt}\,#1\,\rule[0.5ex]{1em}{.05pt}}

\author{Bart Snapp \and Tae Eun Kim}



\title{Determinants}


\begin{document}
\begin{abstract}
  Determinants are numbers that give information about matrices.
\end{abstract}
\maketitle

The determinant is a function of square matrices in the sense that it
takes a square matrix as input and yields a number as output. Viewing
a square matrix as a stack of row vectors (or a concatenation of
column vectors), the determinant may also be viewed as a function of
several input variables producing a scalar output. Regardless of the
perspective adopted, the determinant is a tool which extracts a
representative number that conveys a special kind of information about a
given matrix or the set of its constituent vectors.

% COME BACK AND REWIRTE THIS PARAGRAPH
The chapter begins mildly with the determinant of the simple
$2 \times 2$ and $3 \times 3$ matrices and study its various properties both in
algebraic and geometric terms. These properties are then shown to
extend to higher dimensions. Different methods of calculation the
determinant of general $n \times n$ matrices are introduced. The connection
between the row operations studied in a previous chapter is presented
afterward. The chapter concludes by showing how to interpret the
determinant of a matrix, both when it is viewed as a data and as a
transformation.

\section{The determinants of small matrices}
Here we introduce the determinants of small matrices, in particular, $2 \times 2$ and $3 \times 3$ matrices.

\subsection{$2 \times 2$ matrices}
\begin{definition}
  The \dfn{determinant} of a $2 \times 2$ matrix $\begin{pmatrix} a & b \\
    c & d \end{pmatrix}$ is given by
  \[
    \det
    \begin{pmatrix}
      a & c\\
      b & d
    \end{pmatrix}
    =
    \begin{vmatrix}
      a & b\\
      c & d
    \end{vmatrix}
    = ad - bc.
  \]
\end{definition}

% Typically, when one computes the determinant of a $2\times 2$ matrix,
% we think of the terms as follows.
In the definition above, notice that we introduced two ways to denote
this number, $\det A$ and $|A|$.

In words, the determinant of a $2 \times 2$ matrix is the difference between
the product of diagonal terms and the product of anti-diagonal terms.
\begin{image}[0.75in]
  \begin{tikzpicture}
    \matrix (mtrx)  [matrix of math nodes,ampersand replacement=\&,%column sep=.1em,
    nodes={text height=1ex,text width=2ex}]
    {
      a \& b \\
      c \& d \\
    };
    \draw[thick] (mtrx-1-1.north) -| (mtrx-2-1.south west)
    -- (mtrx-2-1.south);
    \draw[thick] (mtrx-1-2.north) -| (mtrx-2-2.south east)
    -- (mtrx-2-2.south);
    \draw[ultra thick,red!20!white,->]
    (mtrx-1-2.center) -- (mtrx-2-1.center);
    \draw[draw,ultra thick,blue!20!white,->]
    (mtrx-1-1.center)  --  (mtrx-2-2.center);
    \matrix (mtrx2)  [matrix of math nodes,ampersand replacement=\&,nodes={text height=1ex,text width=2ex}]
    {
      a \& b\\
      c \& d\\
    };
    \node at (0,-.7) {${\color{blue!50!black}ad}-{\color{red!50!black}bc}$};
  \end{tikzpicture}
\end{image}


\begin{question}
  Let
  \[
    A =                         % base matrix
    \begin{pmatrix}
      1 & 3 \\ -2 & 2
    \end{pmatrix}, \quad
    B =                         % rows swapped from the base
    \begin{pmatrix}
      -2 & 2 \\ 1 & 3
    \end{pmatrix}, \quad
    C =                         % 2nd row is multiple of 1st
    \begin{pmatrix}
      1 & 3 \\ 3 & 9
    \end{pmatrix}, \quad
    D =                         % triangular
    \begin{pmatrix}
      1 & 3 \\ 0 & 2
    \end{pmatrix}
  \]
  Compute the following determinants.
  \begin{enumerate}
  \item $\det(A) = \answer{8}$
  \item $\det(B) = \answer{-8}$
  \item $\det(C) = \answer{0}$
  \item $\det(D) = \answer{2}$
  \end{enumerate}
\end{question}

% Why would anyone ever be interested in this? Well to start, given nonzero vectors

%% TK: Have we introduced the angle bracket notation for vectors?

To gain a geometric insight behind this definition, consider the
parallelogram spanned by two vectors
\[
  \vec{v} = \langle a, b \rangle
  \quad\text{and}\quad
  \vec{w} = \langle c, d \rangle,
\]
which correspond to the two rows of the matrix in the definition.
% Here we assume that the two vectors are not parallel so that they
% indeed span a parallelogram as shown below.

\begin{image}
  \begin{tikzpicture}
    \draw[fill=fill1!50!white,draw=none]
    (0, 0)         % starting point
    -- ++(5,1)     % move along this vector
    -- ++(2,3)     % then along this vector
    -- ++(-5,-1)   % then back along that vector
    -- cycle;      % and back to where you started
    \draw[->,ultra thick,penColor] (0,0) -- (5,1);
    \draw[->,ultra thick,penColor2] (0,0) -- (2,3);
    \draw[->,ultra thick,dashed,penColor2] (5,1) -- (7,4);
    \draw[->,ultra thick,dashed,penColor] (2,3) -- (7,4);
    \node[above,penColor] at (2.5,.5) {$\vec{v}$}; %% <a,b>
    \node[below right,penColor2] at (1,1.5) {$\vec{w}$}; %% <c,d>
    \draw[->] (.5,.1) arc[radius=.5cm,start angle=11.3,end angle=56.3];
    \node[above right] at (.4,.2) {$\theta$};
  \end{tikzpicture}
\end{image}

The determinant gives the \textit{signed} area of this parallelogram,
where the sign of the area is determined by the orientation of the two
vectors $\vec{v}$ and $\vec{w}$. If the second vector $\vec{w}$ lies
counterclockwise from the first vector $\vec{v}$ as illustrated above,
then the sign is positive. If $\vec{w}$ lies clockwise from $\vec{v}$,
then the sign is negative. If two vectors are parallel so that one
lies neither counterclockwise nor clockwise from the other, the
determinant is zero.

To understand how the determinant is related to the area of the
parallelogram, make a rectangle around the parallelogram as below.

\begin{image}
  \begin{tikzpicture}
    \draw[fill=fill1!50!white,draw=none]
    (0, 0)         % starting point
    -- ++(5,1)     % move along this vector
    -- ++(2,3)     % then along this vector
    -- ++(-5,-1)   % then back along that vector
    -- cycle;      % and back to where you started

    \draw[fill=fill5] (5, 0) -- (7,0) -- (7,1) -- (5,1) -- cycle;
    \draw[fill=fill5] (0, 3) -- (2,3) -- (2,4) -- (0,4) -- cycle;

    \draw[fill=fill3] (0, 0) -- (5,0) -- (5,1) -- cycle;
    \draw[fill=fill3] (2,3) -- (7,4) -- (2,4) -- cycle;

    \draw[fill=fill4] (0, 0) -- (2,3) -- (0,3) -- cycle;
    \draw[fill=fill4] (5, 1) -- (7,1) -- (7,4) -- cycle;

    \draw[->,ultra thick,penColor] (0,0) -- (5,1);
    \draw[->,ultra thick,penColor2] (0,0) -- (2,3);
    \draw[->,ultra thick,dashed,penColor2] (5,1) -- (7,4);
    \draw[->,ultra thick,dashed,penColor] (2,3) -- (7,4);

    \draw[decoration={brace,mirror,raise=.1cm},decorate,thin] (0,0)--(5,0);
    \node[below] at (2.5,-.2) {$a$};

    \draw[decoration={brace,mirror,raise=.1cm},decorate,thin] (7,4)--(2,4);
    \node[above] at (4.5,4.2) {$a$};

    \draw[decoration={brace,mirror,raise=.1cm},decorate,thin] (7,0)--(7,1);
    \node[right] at (7.2,.5) {$b$};

    \draw[decoration={brace,mirror,raise=.1cm},decorate,thin] (0,4)--(0,3);
    \node[left] at (-.2,3.5) {$b$};

    \draw[decoration={brace,mirror,raise=.1cm},decorate,thin] (7,1)--(7,4);
    \node[right] at (7.2,2.5) {$d$};

    \draw[decoration={brace,mirror,raise=.1cm},decorate,thin] (0,3)--(0,0);
    \node[left] at (-.2,1.5) {$d$};

    \draw[decoration={brace,mirror,raise=.1cm},decorate,thin] (0,3)--(0,0);
    \node[left] at (-.2,1.5) {$d$};

    \draw[decoration={brace,raise=.1cm},decorate,thin] (0,4)--(2,4);
    \node[above] at (1,4.2) {$c$};

    \draw[decoration={brace,mirror,raise=.1cm},decorate,thin] (5,0)--(7,0);
    \node[below] at (6,-.2) {$c$};

    \node[above,penColor] at (2.5,.5) {$\vec{v}$}; %% <a,b>
    \node[below right,penColor2] at (1,1.5) {$\vec{w}$}; %% <c,d>
  \end{tikzpicture}
\end{image}

Now, we see that the area of the parallelogram is
\[
  \text{Area of rectangle} - \text{Area of other regions}
\]
and this is
\begin{align*}
  (a+c)(b+d) - \left(cd + ab + 2bc \right)&= ab + ad + bc + cd - cd - ab-2bc\\
                                          &=  ad - bc\\
                                          &= \det
                                            \begin{pmatrix}
                                              a & c\\
                                              b & d
                                            \end{pmatrix}.
\end{align*}

\begin{question}
  Let $A(5,1)$ and $B(1,4)$ be two points in the plane as shown below. Find
  the area of the triangle $\triangle OAB$ using determinant.
  \begin{image}[0.6\textwidth]
    \begin{tikzpicture}
      % shade the region first
      \fill[fill=fill1!50!white,draw=none]
      (0, 0) -- ++(5,1) -- ++(-4,3) -- cycle;

      % then draw grids
      \draw[step=1cm,lightgray,very thin] (-0.5,-0.5) grid (6.5,5.5);
      \draw[->,thin] (-0.5,0) -- (6.5,0) node[right] {$x$};
      \draw[->,thin] (0,-0.5) -- (0,5.5) node[above] {$y$};

      % then draw triangle and label vertices
      \draw[penColor,ultra thick] (0, 0) -- ++(5,1) -- ++(-4,3) -- cycle;
      \node[below left] at (0,0) {$O(0,0)$};
      \node[right,fill=white] at (5,1) {$A(5,1)$};
      \node[above,fill=white] at (1,4) {$B(1,4)$};
    \end{tikzpicture}
  \end{image}
\end{question}

\subsection{$3 \times 3$ matrices}
Moving on to the next dimension:
\begin{definition}
  The \dfn{determinant} of a $3 \times 3$ matrix is given by
  \begin{align*}
    \det
    \begin{pmatrix}
      a_1 &  a_2 & a_3 \\
      b_1 &  b_2 & b_3 \\
      c_1 &  c_2 & c_3
    \end{pmatrix}
    & =
      a_1
      \begin{vmatrix}
        b_2 & b_3 \\
        c_2 & c_3
      \end{vmatrix}
      - a_2
      \begin{vmatrix}
        b_1 & b_3 \\
        c_1 & c_3
      \end{vmatrix}
      + a_3
      \begin{vmatrix}
        b_1 & b_2 \\
        c_1 & c_2
      \end{vmatrix} \\
          & = a_1(b_2c_3 - b_3c_2) - a_2(b_1c_3 - b_3c_1) + a_3(b_1c_2 - b_2c_1).
  \end{align*}
\end{definition}

Note that the determinant of a $3 \times 3$ matrix is related to the
determinants of three $2 \times 2$ submatrices, each of which is obtained
from the original matrix by removing the first row and a column at a
time.

\begin{center}
  \begin{tikzpicture}
    \node at (0,0) {$\det
      \begin{pmatrix}
        a_1 & a_2 & a_3\\
        b_1 & b_2 & b_3\\
        c_1 & c_2 & c_3
      \end{pmatrix}
      = a_1
      \begin{vmatrix}
        b_2 & b_3\\
        c_2 & c_3
      \end{vmatrix}
      -a_2
      \begin{vmatrix}
        b_1 & b_3\\
        c_1 & c_3
      \end{vmatrix}
      +a_3
      \begin{vmatrix}
        b_1 & b_2\\
        c_1 & c_2
      \end{vmatrix}$};

    \draw[ultra thick,->,gray] (-.27,-1.3) -- (-.27,-.7);
    \draw[ultra thick,->,gray] (1.76,-1.3) -- (1.76,-.7);
    \draw[ultra thick,->,gray] (3.8,-1.3) -- (3.8,-.7);

    \node at (-.27,-2) {\scalebox{.7}{
        $\begin{pmatrix}
          a_1 & \bullet & \bullet\\
          \bullet & b_2 & b_3\\
          \bullet & c_2 & c_3
        \end{pmatrix}$}};

    \node at (1.76,-2) {\scalebox{.7}{
        $\begin{pmatrix}
          \bullet & a_2 & \bullet\\
          b_1 & \bullet & b_3\\
          c_1 & \bullet & c_3
        \end{pmatrix}$}};

    \node at (3.8,-2) {\scalebox{.7}{
        $\begin{pmatrix}
          \bullet & \bullet & a_3\\
          b_1 & b_2 & \bullet\\
          c_1 & c_2 & \bullet
        \end{pmatrix}$}};
  \end{tikzpicture}
\end{center}
Note also the alternation of the signs from term to term. We will
revisit this feature later.

\begin{question}
  Compute the following determinant.
  \[
    \det
    \begin{pmatrix}
      1 & 4 & 7\\
      2 & 5 & 8\\
      3 & 6 & 9\\
    \end{pmatrix}
    \begin{prompt}
      = \answer{0}
    \end{prompt}
  \]
\end{question}

Recall that the determinant of a $2 \times 2$ matrix gives the signed area
of the parallelogram spanned by its two rows. A similar geometric
interpretation holds for the determinant of a $3 \times 3$ matrix, namely,
it measures the \textit{signed volume} of the parallelipiped spanned
by its three rows. The illustration below was drawn assuming that the
three rows are not co-planar, meaning not all three vectors are on the
same plane.

\begin{image}[.6\textwidth]
  \begin{tikzpicture}
    % u = <5,1>, v = <3,2.5>, w = <-1,3>

    % visible outlines
    \draw (0,0) -- ++(5,1) -- ++(-1,4) -- ++(-5,-1) -- cycle; % front
    \draw (5,1) -- ++(3,2.5) -- ++(-1,4) -- ++(-3,-2.5);     % right
    \draw (-1,4) -- ++(3,2.5) -- ++(5,1);                   % top

    % invisible dashed lines
    \draw[dashed] (0,0) -- ++(3,2.5) -- ++(5,1);
    \draw[dashed] (3,2.5) -- ++(-1,4);

    % arrows
    \draw[->,ultra thick,penColor] (0,0) -- ++(5,1);    % u
    \draw[->,ultra thick,penColor2] (0,0) -- ++(3,2.5); % v
    \draw[->,ultra thick,penColor4] (0,0) -- ++(-1,4);  % w

    % labels
    \node[penColor, below] at (5,.5) {$\vec{u} = \langle a_1,a_2,a_3 \rangle$};
    \node[penColor2,right] at (2.3,1.7) {$\vec{v} = \langle b_1,b_2,b_3 \rangle$};
    \node[penColor4,left] at (-1,3.5) {$\vec{w} = \langle c_1,c_2,c_3 \rangle$};
  \end{tikzpicture}
\end{image}

The sign of the volume is determined by the \textit{right-hand
  rule}. The rule dictates that the sign of the volume is positive if,
when pointing your index finger of your right hand in the direction of
the first row vector $\vec{u}$ and your middle finger in the direction
of the second row vector $\vec{v}$, your thumb points in the general
direction of the third vector $\vec{w}$. The figure above adheres to
the right-hand rule (confirm it!), so the determinant yields the
positive volume of the shape.

Usual approaches to compute the volume of the parallelipiped from the
coordinates of verticies would require evaluation of square roots and
trigonometric functions. The determinant formula finds the same volume
only using simple arithmetic operations. This is a remarkable way to
calculate the volume!


\section{Determinants in higher dimensions}
The determinant function can be defined not just for small
$2 \times 2$ or $3 \times 3$ matrices, but for square matrices of any size. For
general square matrices, the determinant can be defined in a couple of
different ways:
\begin{itemize}
\item using the cofactor expansion, a.k.a., the Laplace expansion;
\item using permutations, which leads to the Leibniz formula;
\item using row reductions.
\end{itemize}
In this section we will introduce the cofactor expansion which is a
generalization of the $3 \times 3$ formula already seen. We will then see
how determinants can be computed using row reductions. Unlike the
others approaches, this does not provide a concrete formula to calculate
determinants but, rather, is based on fundamental properties that the
determinant function satisfies. The permutation-based definition of
determinants, often called the Leibniz formula, will not be discussed
here. We refer interested readers to standard linear algebra textbooks
such as [FILL IN].

\subsection{The cofactor expansion}
Recall the $3 \times 3$ determinant formula:
\begin{center}
  \begin{tikzpicture}
    \node at (0,0) {$\det
      \begin{pmatrix}
        a_1 & a_2 & a_3\\
        b_1 & b_2 & b_3\\
        c_1 & c_2 & c_3
      \end{pmatrix}
      = a_1
      \begin{vmatrix}
        b_2 & b_3\\
        c_2 & c_3
      \end{vmatrix}
      -a_2
      \begin{vmatrix}
        b_1 & b_3\\
        c_1 & c_3
      \end{vmatrix}
      +a_3
      \begin{vmatrix}
        b_1 & b_2\\
        c_1 & c_2
      \end{vmatrix}$};

    \draw[ultra thick,->,gray] (-.27,-1.3) -- (-.27,-.7);
    \draw[ultra thick,->,gray] (1.76,-1.3) -- (1.76,-.7);
    \draw[ultra thick,->,gray] (3.8,-1.3) -- (3.8,-.7);

    \node at (-.27,-2) {\scalebox{.7}{
        $\begin{pmatrix}
          a_1 & \bullet & \bullet\\
          \bullet & b_2 & b_3\\
          \bullet & c_2 & c_3
        \end{pmatrix}$}};

    \node at (1.76,-2) {\scalebox{.7}{
        $\begin{pmatrix}
          \bullet & a_2 & \bullet\\
          b_1 & \bullet & b_3\\
          c_1 & \bullet & c_3
        \end{pmatrix}$}};

    \node at (3.8,-2) {\scalebox{.7}{
        $\begin{pmatrix}
          \bullet & \bullet & a_3\\
          b_1 & b_2 & \bullet\\
          c_1 & c_2 & \bullet
        \end{pmatrix}$}};
  \end{tikzpicture}
\end{center}
This is an example of recursive formulas in the sense that the
determinant of the given $3 \times 3$ matrix is computed in terms of the
determinants of smaller submatrices. Note that this requires one
already knows how to compute the $2 \times 2$ determinants. The cofactor
expansion formula is the generalization of this idea.

Viewing a scalar as an $1 \times 1$ matrix, we first establish that
\[
  \det \left( a \right) = a.
\]
This provides a starting point for our recursive formula. We now
introduce a couple of convenient notation.

\begin{definition}
  Let $n$ be a positive integer and let $A$ be an $n \times n$
  matrix.
  \begin{itemize}
  \item The $(i,j)$ submatrix of $A$, denoted $A_{ij}$, is the $(n-1) \times
    (n-1)$ matrix obtained by removing the $i$th row and the $j$th
    column of $A$.
  \item The $(i,j)$ cofactor of $A$, denoted $C_{ij}$, is defined by
    \[
      C_{ij} = (-1)^{i+j} \det(A_{ij}).
    \]
  \end{itemize}
\end{definition}

For example, for a $3 \times 3$ matrix
\[
  A =
  \begin{pmatrix}
    a_{11} & a_{12} & a_{13} \\
    a_{21} & a_{22} & a_{23} \\
    a_{31} & a_{32} & a_{33}
  \end{pmatrix},
\]
we have
\begin{align*}
  C_{11}
  & = (-1)^{1+1} \det A_{11}
    = +
    \begin{vmatrix}
      a_{22} & a_{23} \\ a_{32} & a_{33}
    \end{vmatrix}, \\
  C_{12}
  & = (-1)^{1+2} \det A_{12}
    = -
    \begin{vmatrix}
      a_{21} & a_{23} \\ a_{31} & a_{33}
    \end{vmatrix}, \\
  C_{13}
  & = (-1)^{1+3} \det A_{13}
    = +
    \begin{vmatrix}
      a_{21} & a_{22} \\ a_{31} & a_{32}
    \end{vmatrix},
\end{align*}
so it follows that
\[
  \det A = a_{11} C_{11} + a_{12} C_{12} + a_{13} C_{13}.
\]
With the introduction of clever and proper notation, the $3 \times 3$
determinant formula is now written succinctly and elegantly.

Thanks to the factor $(-1)^{i+j}$ in the definition of the cofactor
$C_{ij}$, observe that the determinant formula is written as a pure
summation. The sign alternation is completely handled. The sign
pattern generated by the factor $(-1)^{i+j}$ displays the following
``checkerboard'' pattern:
\[
  \begin{pmatrix}
    + & - & + \\
    - & + & - \\
    + & - & +
  \end{pmatrix}
\]

We now present as a theorem the cofactor expansion formula for the
determinant of general square matrices.
\begin{theorem}[General cofactor expansion]
  Let $n$ be a positive integer and let $A = (a_{ij})$ be an
  $n \times n$ matrix. Then
  \begin{enumerate}
  \item for any fixed $i \in \{1, 2, \ldots, n\}$,
    \begin{align*}
      \det A
      & = \sum_{j=1}^n a_{ij} C_{ij}
        \tag{cofactor expansion along $i$th row} \\
      & = a_{i1} C_{i1} + a_{i2} C_{i2} + \cdots + a_{in} C_{in};
    \end{align*}
  \item for any fixed $j \in \{1, 2, \ldots, n\}$,
    \begin{align*}
      \det A
      & = \sum_{i=1}^n a_{ij} C_{ij}
        \tag{cofactor expansion along $j$th column} \\
      & = a_{1j} C_{1j} + a_{2j} C_{2j} + \cdots + a_{nj} C_{nj}.
    \end{align*}
  \end{enumerate}
\end{theorem}


% %
% Incidentally, the determinant can also be computed using the
% entries of the first column as coefficients. Below is the illustration
% of this idea for a $3 \times 3$ matrix:

% \begin{center}
%   \begin{tikzpicture}
%     \node at (0,0) {$\det
%       \begin{pmatrix}
%         a_1 & a_2 & a_3\\
%         b_1 & b_2 & b_3\\
%         c_1 & c_2 & c_3
%       \end{pmatrix}
%       = a_1
%       \begin{vmatrix}
%         b_2 & b_3\\
%         c_2 & c_3
%       \end{vmatrix}
%       -b_1
%       \begin{vmatrix}
%         a_2 & a_3 \\
%         c_2 & c_3
%       \end{vmatrix}
%       +c_1
%       \begin{vmatrix}
%         a_2 & a_3 \\
%         b_2 & b_3
%       \end{vmatrix}$};

%     \draw[ultra thick,->,gray] (-.27,-1.3) -- (-.27,-.7);
%     \draw[ultra thick,->,gray] (1.76,-1.3) -- (1.76,-.7);
%     \draw[ultra thick,->,gray] (3.8,-1.3) -- (3.8,-.7);

%     \node at (-.27,-2) {\scalebox{.7}{
%         $\begin{pmatrix}
%           a_1 & \bullet & \bullet\\
%           \bullet & b_2 & b_3\\
%           \bullet & c_2 & c_3
%         \end{pmatrix}$}};

%     \node at (1.76,-2) {\scalebox{.7}{
%         $\begin{pmatrix}
%           \bullet & a_2 & a_3\\
%           b_1 & \bullet & \bullet\\
%           \bullet & c_2 & c_3
%         \end{pmatrix}$}};

%     \node at (3.8,-2) {\scalebox{.7}{
%         $\begin{pmatrix}
%           \bullet & a_2 & a_3\\
%           \bullet & b_2 & b_3\\
%           c_1 & \bullet & \bullet
%         \end{pmatrix}$}};
%   \end{tikzpicture}
% \end{center}
% Using the cofactor notation, this is succinctly written as
% \[
%   \det A = a_1 C_{11} + b_1 C_{21} + c_1 C_{31}.
% \]

% As a matter of fact, the cofactor expansion works along any row or any
% column, not just the first row or the first column. No matter which
% row or column is used for expansion, the cofactor ensures that the
% determinants of submatrices are given alternating signs. In
% particular, the sign pattern generated by the factor $(-1)^{i+j}$
% displays the following ``checkerboard'' pattern:
% \[
%   \begin{pmatrix}
%     + & - & + \\
%     - & + & - \\
%     + & - & +
%   \end{pmatrix}
% \]

With this theorem, we see that the $3 \times 3$ determinant formula
previously presented is merely the cofactor expansion along the first
row of a matrix. The two parts of the theorem tells us that we can
expand along any row or any column of the given matrix and still
obtain the same number, the determinant.

For instance, to calculate the determinant via expansion along the
second row, we have
\begin{center}
  \begin{tikzpicture}
    \node at (0,0) {$\det
      \begin{pmatrix}
        a_{11} & a_{12} & a_{13} \\
        a_{21} & a_{22} & a_{23} \\
        a_{31} & a_{32} & a_{33}
      \end{pmatrix}
      = -a_{21}
      \begin{vmatrix}
        a_{12} & a_{13} \\ a_{32} & a_{33}
      \end{vmatrix}
      + a_{22}
      \begin{vmatrix}
        a_{11} & a_{13} \\ a_{31} & a_{33}
      \end{vmatrix}
      - a_{23}
      \begin{vmatrix}
        a_{11} & a_{12} \\ a_{31} & a_{32}
      \end{vmatrix}$};

    \draw[ultra thick,->,gray] (-.27,-1.3) -- (-.27,-.7);
    \draw[ultra thick,->,gray] (2.3,-1.3) -- (2.3,-.7);
    \draw[ultra thick,->,gray] (4.8,-1.3) -- (4.8,-.7);

    \node at (-.27,-2) {\scalebox{.7}{
        $\begin{pmatrix}
          \bullet & a_{12} & a_{13} \\
          a_{21} & \bullet & \bullet \\
          \bullet & a_{32} & a_{33}
        \end{pmatrix}$}};

    \node at (2.3,-2) {\scalebox{.7}{
        $\begin{pmatrix}
          a_{11} & \bullet & a_{13} \\
          \bullet & a_{22} & \bullet \\
          a_{31} & \bullet & a_{33}
        \end{pmatrix}$}};

    \node at (4.8,-2) {\scalebox{.7}{
        $\begin{pmatrix}
          a_{11} & a_{12} & \bullet \\
          \bullet & \bullet & a_{23} \\
          a_{31} & a_{32} & \bullet
        \end{pmatrix}$}};
  \end{tikzpicture}
\end{center}

Having multiple alternate options, we may at times compute
determinants efficiently. Most notably, if a row or a column has many
zeros, then we can exploit the structure to drastically simplify
calculation.

\begin{example}
  In calculating
  \[
    \det
    \begin{pmatrix}
      1 & 2 & 5 \\
      0 & 0 & 3 \\
      6 & 8 & 4
    \end{pmatrix},
  \]
  it is convenient to use the cofactor expansion along the second row:
  \[
    - 0
    \begin{vmatrix}
      2 & 5 \\ 8 & 4
    \end{vmatrix}
    + 0
    \begin{vmatrix}
      1 & 5 \\ 6 & 4
    \end{vmatrix}
    - 3
    \begin{vmatrix}
      1 & 2 \\ 6 & 8
    \end{vmatrix}
    = -3 (1 \cdot 8 - 2 \cdot 6) = -3 (-4) = 12.
  \]
  Because of the two zeros in the second row, only one $2 \times 2$
  determinant needs to be computed.
\end{example}

\begin{question}
  Calculate
  \[
    \det
    \begin{pmatrix}
      1 & 2 & 3 & 3 & 8 \\
      4 & 5 & 0 & 4 & 2\\
      0 & 0 & 0 & 0 & 1 \\
      7 & 8 & 0 & 5 & 6 \\
      0 & 2 & 0 & 0 & 9
    \end{pmatrix} = \answer{48}.
  \]
  \textit{Hint.} At each step, expand along the row or the column with
  the most number of zeros.
  \begin{prompt}
    \answer{48}
  \end{prompt}
\end{question}

% Moved the following paragraph on the rule of Sarrus to the exercise section.
%
% Another way to carry out this computation to follow the \textit{rule
% of Sarrus}:
% %% Commented because this is not a particularly useful method in this course.
% %% %% Credit for the following image goes to
% %% %% http://tex.stackexchange.com/a/257063
% \begin{image}
%   \begin{tikzpicture}
%     \matrix (mtrx)  [matrix of math nodes,ampersand replacement=\&,column sep=1em, nodes={text height=1ex,text width=2ex}]
%     {
%       a_1 \& a_2 \& a_3 \& a_1 \& a_2         \\
%       b_1 \& b_2 \& b_3 \& b_1 \& b_2         \\
%       c_1 \& c_2 \& c_3 \& c_1 \& c_2         \\
%     };
%     \matrix (mtrx3)  [matrix of math nodes,ampersand replacement=\&,column sep=1em, nodes={text height=1ex,text width=2ex}] at (5,0)
%     {
%       a_1 \& a_2 \& a_3 \& a_1 \& a_2         \\
%       b_1 \& b_2 \& b_3 \& b_1 \& b_2         \\
%       c_1 \& c_2 \& c_3 \& c_1 \& c_2         \\
%     };
%     \draw[thick] (mtrx-1-1.north) -| (mtrx-3-1.south west)
%     -- (mtrx-3-1.south);
%     \draw[thick] (mtrx-1-3.north) -| (mtrx-3-3.south east)
%     -- (mtrx-3-3.south);
%     \draw[ultra thick,red!20!white,->]
%     (mtrx3-3-1.center) edge (mtrx3-1-3.center)
%     (mtrx3-3-2.center) edge (mtrx3-1-4.center)
%     (mtrx3-3-3.center)  --  (mtrx3-1-5.center);
%     \draw[draw,ultra thick,blue!20!white,->]
%     (mtrx-1-1.center) edge (mtrx-3-3.center)
%     (mtrx-1-2.center) edge (mtrx-3-4.center)
%     (mtrx-1-3.center)  --  (mtrx-3-5.center);
%     \matrix (mtrx2)  [matrix of math nodes,ampersand replacement=\&,column sep=1em, nodes={text height=1ex,text width=2ex}]
%     {
%       a_1 \& a_2 \& a_3 \& a_1 \& a_2         \\
%       b_1 \& b_2 \& b_3 \& b_1 \& b_2         \\
%       c_1 \& c_2 \& c_3 \& c_1 \& c_2         \\
%     };
%     \matrix (mtrx4)  [matrix of math nodes,ampersand replacement=\&,column sep=1em, nodes={text height=1ex,text width=2ex}] at (5,0)
%     {
%       a_1 \& a_2 \& a_3 \& a_1 \& a_2         \\
%       b_1 \& b_2 \& b_3 \& b_1 \& b_2         \\
%       c_1 \& c_2 \& c_3 \& c_1 \& c_2         \\
%     };
%     \draw[thick] (mtrx4-1-1.north) -| (mtrx4-3-1.south west)
%     -- (mtrx4-3-1.south);
%     \draw[thick] (mtrx4-1-3.north) -| (mtrx4-3-3.south east)
%     -- (mtrx4-3-3.south);
%     \node at (2.5,-1) {${\color{blue!50!black}a_1b_2c_3}+{\color{blue!50!black}a_2b_3c_1}+{\color{blue!50!black}a_3b_1c_2}-{\color{red!50!black}a_3b_2c_1}-{\color{red!50!black}a_1b_3c_2}-{\color{red!50!black}a_2b_1c_3}$};
%     \node at (0,1) {{\color{blue!50!black}positive terms}};
%     \node at (5,1) {{\color{red!50!black}negative terms}};
%   \end{tikzpicture}
% \end{image}

% The idea is to attach the first two columns of the given matrix to the
% right of the third column, then to add the products of the down-right
% diagonals (blue  arrows), then to subtract the products of the
% up-right diagonals (red arrows).

% \begin{remark}
%   The rule of Sarrus only works for $3 \times 3$ matrices.
% \end{remark}

% - but the drawback (inefficiency) -- cofactor expanion requires about
% n! operations, show how large 10! or 15! are.

% TODO: Motivate the subsection
% - as an alternate efficient method to calculate determinants in
% higher dimensions, we focus on key properties of determinants which
% generalizes the notion of area or volume in higher dimensions
% - mention that it may be advantageous to view the determinant as a function of
% multiple (row) vectors instead of square matrices
% - present fundamental properties of the determinants in any
% dimensions, but illustrates them in 2-D

\subsection{Computing determinant using row reduction}

Here we present some fundamental properties of the determinant of
$2 \times 2$ matrices. These properties are described as
\textit{fundamental} because they hold true not just for $2 \times 2$
matrices, but also for square matrices of any size. For this, the
properties will be stated in terms of general square
matrices. Rigorous proofs will not be presented, but both algebraic
and geometric confirmation are provided using $2 \times 2$ matrices.

The first property pertains to the determinant of the identity
matrices which we define below. For the remainder of the chapter, $n$
denotes a positive integer.

\begin{definition}[Identity matrix]\label{defn:id}
  The $n \times n$ \dfn{identity matrix}, denoted $I_n$, is the
  $n \times n$ matrix with ones on the main diagonal and zeros elsewhere:
  \[
    I_n =
    \begin{pmatrix}
      1 & 0 & 0 & \cdots & 0 \\
      0 & 1 & 0 & \cdots & 0 \\
      0 & 0 & 1 & \cdots & 0 \\
      \vdots & \vdots & \vdots & \ddots & \vdots \\
      0 & 0 & 0 & \cdots & 1
    \end{pmatrix}.
  \]
\end{definition}
When clear from context, the subscript $n$ is often dropped from
$I_n$, and it is simply written as $I$.

\begin{proposition}[Determinant of identity]
  The determinant of the $n \times n$ identity matrix is 1, that is,
  \[
    \det I_n = 1.
  \]
\end{proposition}

This property is readily confirmed for $I_2$ using the $2 \times 2$
determinant formula:
\begin{align*}
  \det
  \begin{pmatrix}
    1 & 0 \\ 0 & 1
  \end{pmatrix}
  & = \text{(product of diagonals)} - \text{(product of
    anti-diagonals)} \\
      & = 1 \cdot 1 - 0 \cdot 0 = 1.
\end{align*}

Geometrically, $\det I_2$ computes the signed area of the
parallelogram spanned by $\vec{e}_1 = \langle 1, 0 \rangle$ and
$\vec{e}_2 = \langle 0, 1 \rangle$, which is the unit square with area
1. Note that the second vector $\vec{e}_2$ (facing due
north) lies counterclockwise from the first vector
$\vec{e}_1$ (facing due east), so the area is indeed
endowed with the positive sign.

\begin{image}[0.5\textwidth]
  \begin{tikzpicture}
    \draw[fill=fill1!50!white,draw=none]
    (0, 0)                      % starting point
    -- ++(5,0)                   % move along this vector
    -- ++(0,5)                   % then along this vector
    -- ++(-5,0)                  % then back along that vector
    -- cycle;                    % and back to where you started
    \draw[->,ultra thick,penColor] (0,0) -- (5,0);
    \draw[->,ultra thick,penColor2] (0,0) -- (0,5);
    \draw[->,ultra thick,dashed,penColor2] (5,0) -- (5,5);
    \draw[->,ultra thick,dashed,penColor] (0,5) -- (5,5);
    \node[above,penColor] at (2.5,-1) {$\vec{e}_1 = \langle 1, 0 \rangle$};
    \node[left,penColor2] at (-.25,2.5) {$\vec{e}_2 = \langle 0,1 \rangle$};
    \draw[->,thick] (.5,0) -- (.5,.5) -- (0,.5);
    \node[above right] at (.5,.5) {$\theta = \pi/2$};
    \node at (2.5,2.5) {$\det\begin{pmatrix} 1 & 0 \\ 0 & 1 \end{pmatrix} = 1$};
  \end{tikzpicture}
\end{image}



\begin{proposition}[Sign reversal]
  The determinant changes signs when two rows are interchanged.
\end{proposition}

Checking this for the $2 \times 2$ case:
\[
  \det
  \begin{pmatrix}
    c & d \\
    a & b
  \end{pmatrix}
  = bc - ad = -(ad - bc) =
  - \det
  \begin{pmatrix}
    a & b \\
    c & d
  \end{pmatrix}.
\]

Geometrically speaking, interchanging two rows of a $2 \times 2$ matrix
boils down to reversing the orientation of the parallelogram spanned
by its two row vectors, which has the very effect of changing the sign
of the area, while keeping the magnitude unchanged.

\begin{image}[.98\textwidth]
  \begin{tikzpicture}
    \draw[fill=fill1!50!white,draw=none]
    (0, 0)         % starting point
    -- ++(5,1)     % move along this vector
    -- ++(2,3)     % then along this vector
    -- ++(-5,-1)   % then back along that vector
    -- cycle;      % and back to where you started
    \draw[->,ultra thick,penColor] (0,0) -- (5,1);
    \draw[->,ultra thick,penColor2] (0,0) -- (2,3);
    \draw[->,ultra thick,dashed,penColor2] (5,1) -- (7,4);
    \draw[->,ultra thick,dashed,penColor] (2,3) -- (7,4);
    \node[below,penColor] at (4,0.5) {$\vec{v} = \langle a,b \rangle$}; %% <a,b>
    \node[left,penColor2] at (1.2,2.4) {$\vec{w} = \langle c,d \rangle$}; %% <c,d>
    \draw[->,thick] (.98,0.2) arc[radius=1cm,start angle=11.3,end angle=56.3];
    \node[above right] at (.4,.2) {$\theta$};
    \node at (3.5, 2) {$\det\begin{pmatrix} a & b \\ c & d \end{pmatrix} > 0$};
    \node at (3.5, -1) {counterclockwise orientation};
  \end{tikzpicture}
  \hfill
  \begin{tikzpicture}
    \draw[fill=fill1!50!white,draw=none]
    (0, 0)         % starting point
    -- ++(5,1)     % move along this vector
    -- ++(2,3)     % then along this vector
    -- ++(-5,-1)   % then back along that vector
    -- cycle;      % and back to where you started
    \draw[->,ultra thick,penColor2] (0,0) -- (5,1);
    \draw[->,ultra thick,penColor] (0,0) -- (2,3);
    \draw[->,ultra thick,dashed,penColor] (5,1) -- (7,4);
    \draw[->,ultra thick,dashed,penColor2] (2,3) -- (7,4);
    \node[below,penColor2] at (4,0.5) {$\vec{v} = \langle a,b \rangle$}; %% <a,b>
    \node[left,penColor] at (1.2,2.4) {$\vec{w} = \langle c,d \rangle$}; %% <c,d>
    \draw[->] (.55,.83) arc[radius=1cm,end angle=11.3,start angle=56.3];
    \node[above right] at (.4,.2) {$\theta$};
    \node at (3.5, 2) {$\det\begin{pmatrix} c & d \\ a & b \end{pmatrix} < 0$};
    \node at (3.5, -1) {clockwise orientation};
  \end{tikzpicture}
\end{image}

An interesting and useful consequence of the sign reversal property is
that the determinant of a matrix with two identical rows is zero.

\begin{proposition}[Linear in each row]
  The determinant is a linear function of each row while other rows
  are held fixed.
\end{proposition}

We illustrate the last property in the $2 \times 2$ case. In particular, we
show that the determinant is linear in the first row while the second
row is held fixed. This amounts to showing:
\begin{itemize}
\item multiplying the first row by a scalar $k$, the determinant is
  multiplied by $k$;
\item adding a row vector to the first row, the two determinants are added.
\end{itemize}

Both can be shown using the $2 \times 2$ determinant formula:
\[
  \det
  \begin{pmatrix}
    k a & k b \\
    c & d
  \end{pmatrix}
  = (k a)d - (k b)c
  = k (ad - bc)
  = k \det
  \begin{pmatrix}
    a & b \\
    c & d
  \end{pmatrix}
\]
and
\begin{align*}
  \det
  \begin{pmatrix}
    a_1 + a_2 & b_1 + b_2 \\
    c & d
  \end{pmatrix}
  & = (a_1 + a_2) d - (b_1 + b_2) c \\
              & = (a_1 d - b_1 c) + (a_2 d - b_2 c) \\
              & = \det
                \begin{pmatrix}
                  a_1 & b_1 \\
                  c & d
                \end{pmatrix}
                + \det
                \begin{pmatrix}
                  a_2 & b_2 \\
                  c & d
                \end{pmatrix}.
\end{align*}

The geometric illustration of this last property can be quite
satisfying. If the first row is multiplied by $k$, the area is also
scaled by the factor of $k$.
\begin{image}[0.75\textwidth]
  \begin{tikzpicture}
    % shade
    \draw[fill=fill1!50!white,draw=none] % det(3u,v)
    (0, 0) -- ++(6,0) -- ++(2,3) -- ++(-6,0) -- cycle;
    \draw[fill=fill1!80!white,draw=none] % det(u,v)
    (0, 0) -- ++(2,0) -- ++(2,3) -- ++(-2,0) -- cycle;

    % vectors (arrows)
    \draw[->,ultra thick,penColor] (0.1,0.1) -- (2,0.1);
    \draw[->,ultra thick,penColor4] (0,0) -- (6,0);
    \draw[->,ultra thick,penColor2] (0,0) -- (2,3);

    % parallel mirrors
    \draw[->,ultra thick,dashed,penColor] (2,3) -- (8,3);
    \draw[->,ultra thick,dashed,penColor2] (6,0) -- (8,3);

    % auxilliary lines
    \draw[-,dashed,penColor2] (2,0) -- (4,3);
    \draw[-,dashed,penColor2] (4,0) -- (6,3);

    % labels
    \node[below,penColor] at (1,-0.1) {$\vec{v}$};
    \node[below,penColor4] at (5,-0.1) {$k\vec{v}$};
    \node[left,penColor2] at (1.2,2.5) {$\vec{w}$};
  \end{tikzpicture}
\end{image}

If a new row $\vec{v}_2 = (a_2, b_2)$ is added to the first row
$\vec{v}_1 = (a_1, b_1)$, while the second row $\vec{w} = (c,d)$ is
held fixed, the areas of two parallelograms outlined by solid lines
add up to the area of the parallelogram outlined by dotted lines.
\begin{image}[0.75\textwidth]
  \begin{tikzpicture}
    % shade
    \draw[fill=fill1!50!white,draw=none] % det(3u,v)
    (0,0) -- ++(4,0) -- ++(-1,3) -- ++(-4,0) -- cycle;
    \draw[fill=fill1!80!white,draw=none] % det(u,v)
    (4,0) -- ++(2,2) -- ++(-1,3) -- ++(-2,-2) -- cycle;

    % vectors (arrows)
    \draw[->,ultra thick,penColor] (0,0) -- (4,0);
    \draw[->,ultra thick,penColor] (4,0) -- (6,2);
    \draw[->,ultra thick,penColor2] (0,0) -- (-1,3);

    \draw[-,ultra thick,penColor] (-1,3) -- (3,3);
    \draw[-,ultra thick,penColor] (3,3) -- (5,5);
    \draw[-,ultra thick,penColor2] (4,0) -- (3,3);
    \draw[-,ultra thick,penColor2] (6,2) -- (5,5);

    % auxilliary lines
    \draw[->,ultra thick,dashed,penColor4] (0,0) -- (6,2);
    \draw[->,ultra thick,dashed,penColor4] (-1,3) -- (5,5);

    % labels
    \node[below,penColor] at (3,-0.1) {$\vec{v}_1 = \langle a_1, b_1 \rangle$};
    \node[right,penColor] at (5,0.8) {$\vec{v}_2 = \langle a_2, b_2 \rangle$};
    \node[right,penColor4] at (6,2.2) {$\vec{v}_1 + \vec{v}_2$};
    \node[left,penColor2] at (-1,2) {$\vec{w} = \langle c,d \rangle$};
  \end{tikzpicture}
\end{image}

\subsection{Efficient Calculation of the determinant via row operations}
The three properties of the determinant previously presented, namely
\begin{itemize}
\item the determinant of the identity matrix is 1;
\item the determinant changes signs when two rows are interchanged;
\item the determinant is linear in each row while others are held fixed;
\end{itemize}
are so fundamental that in an abstract and rigorous setting the
determinant is defined as the unique function satisfying the above
three properties. This requires that the existence and the uniqueness
of a function satisfying these properties must be established. We
direct readers who are interested in these theoretical matters to
advanced linear algebra textbooks such as Hoffman and Kunze.

We will instead take this definition as given and focus on you how
this axiomatic definition, as opposed to a constructive definition
such as the $2 \times 2$ or $3 \times 3$ determinant formula, can be used in
understanding computations involving the determinant.


%% \section{Connections to row operations and row echelon form}
%% Swapping Rows: If you swap two rows of a matrix, the determinant of the matrix changes sign. That is, if you swap rows ii and jj in a matrix AA, the determinant of the new matrix A′A′ is det⁡(A′)=−det⁡(A)det(A′)=−det(A).

%% Multiplying a Row by a Scalar: If you multiply a row by a non-zero scalar cc, the determinant of the matrix is multiplied by cc. That is, if you multiply row ii by cc in a matrix AA, the determinant of the new matrix A′A′ is det⁡(A′)=c⋅det⁡(A)det(A′)=c⋅det(A).

%% Adding a Multiple of One Row to Another: If you add a multiple of
%% one row to another row, the determinant of the matrix remains
%% unchanged. That is, if you replace row ii with
%% % rowi+c⋅rowjrowi​+c\cdot rowj​
%% in a matrix $A$, the determinant of the new
%% matrix $A'$ is $\det⁡(A')=det⁡(A)det(A')=det(A)$.


\section{When matrices store data}



\section{When matrices transform data}




\end{document}
